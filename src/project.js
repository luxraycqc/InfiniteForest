require=function n(o,d,s){function u(a,e){if(!d[a]){if(!o[a]){var c="function"==typeof require&&require;if(!e&&c)return c(a,!0);if(l)return l(a,!0);var t=new Error("Cannot find module '"+a+"'");throw t.code="MODULE_NOT_FOUND",t}var r=d[a]={exports:{}};o[a][0].call(r.exports,function(e){return u(o[a][1][e]||e)},r,r.exports,n,o,d,s)}return d[a].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)u(s[e]);return u}({Player:[function(e,a,c){"use strict";cc._RF.push(a,"e281a0+m+NJHIQ7RH8LQT5y","Player"),cc.Class({extends:cc.Component,properties:{canvas:{default:null,type:cc.Node},background:{default:null,type:cc.Node},monster1:{default:null,type:cc.Node},redJewel:{default:null,type:cc.Node},steplabel:{default:null,type:cc.Label},lifelabel:{default:null,type:cc.Label},jewellabel:{default:null,type:cc.Label},layout1:{default:null,type:cc.Layout},layout2:{default:null,type:cc.Layout},currentNode:0,stepCount:0,lifeCount:5,redJewelGot:!1,yellowJewelGot:!1,blueJewelGot:!1,greenJewelGot:!1,monster1Alive:!0,monsterPrefab1:{default:null,type:cc.Prefab},redJewelPrefab:{default:null,type:cc.Prefab},fr:{default:null,type:cc.Prefab},lf:{default:null,type:cc.Prefab},lfr:{default:null,type:cc.Prefab},lr:{default:null,type:cc.Prefab},l:{default:null,type:cc.Prefab},f:{default:null,type:cc.Prefab},r:{default:null,type:cc.Prefab},leftbound:-50,rightbound:50,upbound:-180,downbound:-240},onLoad:function(){this.background=cc.instantiate(this.fr),this.canvas.addChild(this.background,-1),this.setInputControl()},getProperScale:function(){return(800-this.node.y)/1e3},setInputControl:function(){var a=this.node,c=this;cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){switch(e.keyCode){case cc.KEY.up:if((a.x>c.rightbound||a.x<c.leftbound)&&a.y>=c.upbound)break;if((12==c.currentNode||13==c.currentNode||14==c.currentNode)&&a.y>=c.upbound)break;if(a.y+=20,c.stepCount++,300<=a.y)switch(c.currentNode){case 0:case 2:case 5:c.background.destroy(),c.background=cc.instantiate(c.fr),c.canvas.addChild(c.background,-1),a.y=-200,c.currentNode+=4;break;case 1:case 3:case 6:c.background.destroy(),c.background=cc.instantiate(c.lf),c.canvas.addChild(c.background,-1),a.y=-200,c.currentNode+=4;break;case 4:case 7:c.background.destroy(),c.background=cc.instantiate(c.f),c.canvas.addChild(c.background,-1),a.y=-200,c.currentNode+=4;break;case 9:case 10:c.background.destroy(),c.background=cc.instantiate(c.lr),c.canvas.addChild(c.background,-1),a.y=-200,c.currentNode+=4;break;case 8:c.background.destroy(),c.background=cc.instantiate(c.r),c.canvas.addChild(c.background,-1),a.y=-200,c.currentNode+=4;break;case 12:case 13:case 14:case 15:a.y-=20,c.stepCount--;break;case 11:c.background.destroy(),c.background=cc.instantiate(c.lfr),c.canvas.addChild(c.background,-1),a.y=-200,c.currentNode+=4}a.setScale(c.getProperScale(),c.getProperScale());break;case cc.KEY.down:if((a.x>c.rightbound||a.x<c.leftbound)&&a.y<=c.downbound)break;if(a.y-=20,a.setScale(c.getProperScale(),c.getProperScale()),c.stepCount++,a.y<=-300)switch(c.currentNode){case 5:case 6:c.background.destroy(),c.background=cc.instantiate(c.lfr),c.canvas.addChild(c.background,-1),a.y=300,c.currentNode-=4;break;case 4:case 8:case 10:case 13:c.background.destroy(),c.background=cc.instantiate(c.fr),c.canvas.addChild(c.background,-1),a.y=300,c.currentNode-=4;break;case 7:case 9:case 11:case 14:c.background.destroy(),c.background=cc.instantiate(c.lf),c.canvas.addChild(c.background,-1),a.y=300,c.currentNode-=4;break;case 12:case 15:c.background.destroy(),c.background=cc.instantiate(c.f),c.canvas.addChild(c.background,-1),a.y=300,c.currentNode-=4;break;case 0:case 1:case 2:case 3:a.y+=20,c.stepCount--}a.setScale(c.getProperScale(),c.getProperScale());break;case cc.KEY.left:if((a.x>=c.rightbound||a.x<=c.leftbound)&&a.y>c.upbound)break;if((0==c.currentNode||4==c.currentNode||6==c.currentNode||8==c.currentNode||9==c.currentNode||11==c.currentNode||12==c.currentNode)&&a.x<=c.leftbound)break;if(a.x-=50,c.stepCount++,a.x<=-480)switch(c.currentNode){case 2:case 3:case 5:case 6:case 9:c.background.destroy(),c.background=cc.instantiate(c.lfr),c.canvas.addChild(c.background,-1),a.x=480,c.currentNode--;break;case 1:case 5:case 7:case 10:c.background.destroy(),c.background=cc.instantiate(c.fr),c.canvas.addChild(c.background,-1),a.x=480,c.currentNode--;break;case 0:case 4:case 6:case 8:case 9:case 11:case 12:a.x+=50,c.stepCount--;break;case 13:c.background.destroy(),c.background=cc.instantiate(c.r),c.canvas.addChild(c.background,-1),a.x=480,c.currentNode--;break;case 14:case 15:c.background.destroy(),c.background=cc.instantiate(c.lr),c.canvas.addChild(c.background,-1),a.x=480,c.currentNode--}a.setScale(c.getProperScale(),c.getProperScale());break;case cc.KEY.right:if((a.x>=c.rightbound||a.x<=c.leftbound)&&a.y>c.upbound)break;if((3==c.currentNode||5==c.currentNode||7==c.currentNode||8==c.currentNode||10==c.currentNode||11==c.currentNode)&&a.x>=c.rightbound)break;if(a.x+=50,c.stepCount++,480<=a.x)switch(c.currentNode){case 0:case 1:c.background.destroy(),c.background=cc.instantiate(c.lfr),c.canvas.addChild(c.background,-1),a.x=-480,c.currentNode++;break;case 2:case 4:case 6:case 9:c.background.destroy(),c.background=cc.instantiate(c.lf),c.canvas.addChild(c.background,-1),a.x=-480,c.currentNode++;break;case 3:case 5:case 7:case 8:case 10:case 11:case 15:a.x-=50,c.stepCount--;break;case 12:case 13:c.background.destroy(),c.background=cc.instantiate(c.lr),c.canvas.addChild(c.background,-1),a.x=-480,c.currentNode++;break;case 14:c.background.destroy(),c.background=cc.instantiate(c.lfr),c.canvas.addChild(c.background,-1),a.x=-480,c.currentNode++}a.setScale(c.getProperScale(),c.getProperScale())}c.steplabel.string="步数："+c.stepCount,c.lifelabel.string="生命："+c.lifeCount,c.countJewels(),3==c.currentNode&&(null==c.monster1&&c.monster1Alive?(c.monster1=cc.instantiate(c.monsterPrefab1),c.canvas.addChild(c.monster1,0)):null!=c.monster1&&cc.pDistance(a.position,c.monster1.position)<50&&(c.monster1.destroy(),c.monster1=null,c.monster1Alive=!1,c.lifeCount--)),3==c.currentNode&&(null!=c.redJewel||c.redJewelGot?null!=c.redJewel&&cc.pDistance(a.position,c.redJewel.position)<50&&(c.redJewel.destroy(),c.redJewel=null,c.redJewelGot=!0):(c.redJewel=cc.instantiate(c.redJewelPrefab),c.canvas.addChild(c.redJewel,0))),null!=c.layout1.node?c.layout1.node.destroy():null!=c.layout2.node&&c.layout2.node.destroy()})},countJewels:function(){this.jewellabel.string="已获得宝石：",this.redJewelGot&&(this.jewellabel.string+="红宝石 "),this.yellowJewelGot&&(this.jewellabel.string+="黄宝石 "),this.blueJewelGot&&(this.jewellabel.string+="蓝宝石 "),this.greenJewelGot&&(this.jewellabel.string+="绿宝石 ")}}),cc._RF.pop()},{}],Start:[function(e,a,c){"use strict";cc._RF.push(a,"6b600Kh6FNB3qffKZZWwmcD","Start"),cc.Class({extends:cc.Component,properties:{},startGame:function(){cc.director.loadScene("game")},startChallenge:function(){cc.director.loadScene("challenge")}}),cc._RF.pop()},{}]},{},["Player","Start"]);