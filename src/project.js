require=function r(l,o,d){function u(t,e){if(!o[t]){if(!l[t]){var c="function"==typeof require&&require;if(!e&&c)return c(t,!0);if(s)return s(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var a=o[t]={exports:{}};l[t][0].call(a.exports,function(e){return u(l[t][1][e]||e)},a,a.exports,r,l,o,d)}return o[t].exports}for(var s="function"==typeof require&&require,e=0;e<d.length;e++)u(d[e]);return u}({Player:[function(e,t,c){"use strict";cc._RF.push(t,"e281a0+m+NJHIQ7RH8LQT5y","Player"),cc.Class({extends:cc.Component,properties:{canvas:{default:null,type:cc.Node},background:{default:null,type:cc.Node},monster1:{default:null,type:cc.Node},redJewel:{default:null,type:cc.Node},yellowJewel:{default:null,type:cc.Node},blueJewel:{default:null,type:cc.Node},greenJewel:{default:null,type:cc.Node},stepLabel:{default:null,type:cc.Label},lifeLabel:{default:null,type:cc.Label},jewelLabel:{default:null,type:cc.Label},layout1:{default:null,type:cc.Layout},layout2:{default:null,type:cc.Layout},currentNode:0,stepCount:500,lifeCount:3,redJewelGot:!1,yellowJewelGot:!1,blueJewelGot:!1,greenJewelGot:!1,monster1Alive:!0,monsterPrefab1:{default:null,type:cc.Prefab},redJewelPrefab:{default:null,type:cc.Prefab},yellowJewelPrefab:{default:null,type:cc.Prefab},blueJewelPrefab:{default:null,type:cc.Prefab},greenJewelPrefab:{default:null,type:cc.Prefab},fr:{default:null,type:cc.Prefab},lf:{default:null,type:cc.Prefab},lfr:{default:null,type:cc.Prefab},lr:{default:null,type:cc.Prefab},l:{default:null,type:cc.Prefab},f:{default:null,type:cc.Prefab},r:{default:null,type:cc.Prefab},leftbound:-50,rightbound:50,upbound:-220,downbound:-300},onLoad:function(){this.background=cc.instantiate(this.fr),this.canvas.addChild(this.background,-1),this.setInputControl()},getProperScale:function(){return(700-this.node.y)/1e3},setInputControl:function(){var n=this.node,a=this;cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){var t=50,c=50;switch(e.keyCode){case cc.KEY.up:if((n.x>a.rightbound+t||n.x<a.leftbound-t)&&n.y>a.upbound)break;if((12==a.currentNode||13==a.currentNode||14==a.currentNode)&&n.y>=a.upbound)break;if(n.y+=c,a.stepCount--,320<=n.y)switch(a.currentNode){case 0:case 2:case 5:a.background.destroy(),a.background=cc.instantiate(a.fr),a.canvas.addChild(a.background,-1),n.y=-300,a.currentNode+=4;break;case 1:case 3:case 6:a.background.destroy(),a.background=cc.instantiate(a.lf),a.canvas.addChild(a.background,-1),n.y=-300,a.currentNode+=4;break;case 4:case 7:a.background.destroy(),a.background=cc.instantiate(a.f),a.canvas.addChild(a.background,-1),n.y=-300,a.currentNode+=4;break;case 9:case 10:a.background.destroy(),a.background=cc.instantiate(a.lr),a.canvas.addChild(a.background,-1),n.y=-300,a.currentNode+=4;break;case 8:a.background.destroy(),a.background=cc.instantiate(a.r),a.canvas.addChild(a.background,-1),n.y=-300,a.currentNode+=4;break;case 12:case 13:case 14:case 15:n.y-=c,a.stepCount++;break;case 11:a.background.destroy(),a.background=cc.instantiate(a.lfr),a.canvas.addChild(a.background,-1),n.y=-200,a.currentNode+=4}n.setScale(a.getProperScale(),a.getProperScale());break;case cc.KEY.down:if((n.x>a.rightbound+t||n.x<a.leftbound-t)&&n.y<=a.downbound)break;if(n.y-=c,a.stepCount--,n.y<=-320)switch(a.currentNode){case 5:case 6:a.background.destroy(),a.background=cc.instantiate(a.lfr),a.canvas.addChild(a.background,-1),n.y=300,a.currentNode-=4;break;case 4:case 8:case 10:case 13:a.background.destroy(),a.background=cc.instantiate(a.fr),a.canvas.addChild(a.background,-1),n.y=300,a.currentNode-=4;break;case 7:case 9:case 11:case 14:a.background.destroy(),a.background=cc.instantiate(a.lf),a.canvas.addChild(a.background,-1),n.y=300,a.currentNode-=4;break;case 12:case 15:a.background.destroy(),a.background=cc.instantiate(a.f),a.canvas.addChild(a.background,-1),n.y=300,a.currentNode-=4;break;case 0:case 1:case 2:case 3:n.y+=c,a.stepCount++}n.setScale(a.getProperScale(),a.getProperScale());break;case cc.KEY.left:if((n.x>a.rightbound+t||n.x<a.leftbound)&&n.y>a.upbound+c)break;if((0==a.currentNode||4==a.currentNode||6==a.currentNode||8==a.currentNode||9==a.currentNode||11==a.currentNode||12==a.currentNode)&&n.x<a.leftbound)break;if(n.x-=t,a.stepCount--,n.x<=-480)switch(a.currentNode){case 2:case 3:case 5:case 6:case 9:a.background.destroy(),a.background=cc.instantiate(a.lfr),a.canvas.addChild(a.background,-1),n.x=480,a.currentNode--;break;case 1:case 5:case 7:case 10:a.background.destroy(),a.background=cc.instantiate(a.fr),a.canvas.addChild(a.background,-1),n.x=480,a.currentNode--;break;case 0:case 4:case 6:case 8:case 9:case 11:case 12:n.x+=t,a.stepCount++;break;case 13:a.background.destroy(),a.background=cc.instantiate(a.r),a.canvas.addChild(a.background,-1),n.x=480,a.currentNode--;break;case 14:case 15:a.background.destroy(),a.background=cc.instantiate(a.lr),a.canvas.addChild(a.background,-1),n.x=480,a.currentNode--}n.setScale(a.getProperScale(),a.getProperScale());break;case cc.KEY.right:if((n.x>a.rightbound||n.x<a.leftbound-t)&&n.y>a.upbound+c)break;if((3==a.currentNode||5==a.currentNode||7==a.currentNode||8==a.currentNode||10==a.currentNode||11==a.currentNode)&&n.x>a.rightbound)break;if(n.x+=t,a.stepCount--,480<=n.x)switch(a.currentNode){case 0:case 1:a.background.destroy(),a.background=cc.instantiate(a.lfr),a.canvas.addChild(a.background,-1),n.x=-480,a.currentNode++;break;case 2:case 4:case 6:case 9:a.background.destroy(),a.background=cc.instantiate(a.lf),a.canvas.addChild(a.background,-1),n.x=-480,a.currentNode++;break;case 3:case 5:case 7:case 8:case 10:case 11:case 15:n.x-=t,a.stepCount++;break;case 12:case 13:a.background.destroy(),a.background=cc.instantiate(a.lr),a.canvas.addChild(a.background,-1),n.x=-480,a.currentNode++;break;case 14:a.background.destroy(),a.background=cc.instantiate(a.lfr),a.canvas.addChild(a.background,-1),n.x=-480,a.currentNode++}n.setScale(a.getProperScale(),a.getProperScale())}a.stepLabel.string="体力："+a.stepCount,a.lifeLabel.string="生命："+a.lifeCount,a.countJewels(),0==a.stepCount||a.lifeCount,3==a.currentNode?null==a.monster1&&a.monster1Alive?(a.monster1=cc.instantiate(a.monsterPrefab1),a.canvas.addChild(a.monster1,-1)):null!=a.monster1&&cc.pDistance(n.position,a.monster1.position)<120&&(a.monster1.destroy(),a.monster1=null,a.monster1Alive=!1,a.lifeCount--):null!=a.monster1&&(a.monster1.destroy(),a.monster1=null),3==a.currentNode?null!=a.redJewel||a.redJewelGot?null!=a.redJewel&&cc.pDistance(n.position,a.redJewel.position)<100&&(a.redJewel.destroy(),a.redJewel=null,a.redJewelGot=!0):(a.redJewel=cc.instantiate(a.redJewelPrefab),a.canvas.addChild(a.redJewel,-1)):null!=a.redJewel&&(a.redJewel.destroy(),a.redJewel=null),6==a.currentNode?null!=a.yellowJewel||a.yellowJewelGot?null!=a.yellowJewel&&cc.pDistance(n.position,a.yellowJewel.position)<100&&(a.yellowJewel.destroy(),a.yellowJewel=null,a.yellowJewelGot=!0):(a.yellowJewel=cc.instantiate(a.yellowJewelPrefab),a.canvas.addChild(a.yellowJewel,-1)):null!=a.yellowJewel&&(a.yellowJewel.destroy(),a.yellowJewel=null),9==a.currentNode?null!=a.blueJewel||a.blueJewelGot?null!=a.blueJewel&&cc.pDistance(n.position,a.blueJewel.position)<100&&(a.blueJewel.destroy(),a.blueJewel=null,a.blueJewelGot=!0):(a.blueJewel=cc.instantiate(a.blueJewelPrefab),a.canvas.addChild(a.blueJewel,-1)):null!=a.blueJewel&&(a.blueJewel.destroy(),a.blueJewel=null),10==a.currentNode?null!=a.greenJewel||a.greenJewelGot?null!=a.greenJewel&&cc.pDistance(n.position,a.greenJewel.position)<100&&(a.greenJewel.destroy(),a.greenJewel=null,a.greenJewelGot=!0):(a.greenJewel=cc.instantiate(a.greenJewelPrefab),a.canvas.addChild(a.greenJewel,-1)):null!=a.greenJewel&&(a.greenJewel.destroy(),a.greenJewel=null),15==a.currentNode&&a.redJewelGot&&a.yellowJewelGot&&a.blueJewelGot&&a.greenJewelGot&&cc.pDistance(n.position,cc.v2(0,-100))<100&&cc.director.loadScene("challenge"),null!=a.layout1.node?a.layout1.node.destroy():null!=a.layout2.node&&a.layout2.node.destroy()})},countJewels:function(){this.jewelLabel.string="已获得宝石：",this.redJewelGot&&(this.jewelLabel.string+="\n红宝石"),this.yellowJewelGot&&(this.jewelLabel.string+="\n黄宝石"),this.blueJewelGot&&(this.jewelLabel.string+="\n蓝宝石"),this.greenJewelGot&&(this.jewelLabel.string+="\n绿宝石")}}),cc._RF.pop()},{}],Start:[function(e,t,c){"use strict";cc._RF.push(t,"6b600Kh6FNB3qffKZZWwmcD","Start"),cc.Class({extends:cc.Component,properties:{},startGame:function(){cc.director.loadScene("game")},startChallenge:function(){cc.director.loadScene("challenge")}}),cc._RF.pop()},{}]},{},["Player","Start"]);